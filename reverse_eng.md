# Analysis Fundamentals

### [7-16-2018]  Starting with the analysis: crack a small program that check for the valid key 
This is entirely base on the video [Reversing and Cracking first simple Program](https://www.youtube.com/watch?v=VroEiMOJPm8&t=2s)
  - check this [GDB Commands Reference](http://visualgdb.com/gdbreference/commands/)
  - Understand the [registers](https://github.com/H3xHunter/AssemblyJournal/blob/master/register.md)
  - Download [this repository](https://github.com/LiveOverflow/liveoverflow_youtube/tree/master/0x05_simple_crackme_intro_assembler) or use     ```git clone https://github.com/LiveOverflow/liveoverflow_youtube.git```
  - Change the gdb ```set disassembly-flavor intel```
  - use: ``` Disassembly main ```
  - Understand all the [jumps](https://en.wikibooks.org/wiki/X86_Assembly/Control_Flow), it is important to understand the flow of the program.
  - In an example: ```0x0000609 <+67> jne 0x400617``` the 617 is the jump address. 
  - Then, execute the program adding break points ```break *main```
    - you can also apply break points to the address like this ```break *0x0000000000400607 ```
  - Then, use ```run``` to run the program
  - With ```si```-step-in you can step inside function or ```ni``` to step-over
    - focus your attention to the instruction address number
    - if some message is printed out write a small note of that 
  - You can modify register value using ``` set $eax=0``` for example.
    - In this way you can skip checks. 
    - Another trick is to change a conditional jump to just jmp.
    
#### Conclusion:
After checking the jumps and have a good idea of the program structure, you can understand how the program works. Therefore, you can proceed to hardcode a value in the registry or change the check-conditions. Nb: because I checked other videos, I am well aware that this is not always the case or not that straight forward. But for now, it is enough for me to understand the basics how to crack small simple program like in the video. 
      
     
### [7-18-2018] Reversing binary with basic tools
This is entirely base on the video [Reversing and Cracking first simple Program](https://www.youtube.com/watch?v=VroEiMOJPm8&t=2s)
- strings
   - ``` strings *fileName* | grep ```
- file
  - ```file  *fileName*```
- objdump
  - ```objdump -d -M intel *fileName* > dump.asm```
- hexdump
  - ``` hexdump -C *fileName* ```
- xxd
  - ``` xxd *fineName* | less ```
- radare2
  - ```r2 -d  *fileName* ```
      
#### objdump
- [Link](https://linux.die.net/man/1/objdump)
##### Flags:
```objdump [-a|--archive-headers]
        [-b bfdname|--target=bfdname]
        [-C|--demangle[=style] ]
        [-d|--disassemble]
        [-D|--disassemble-all]
        [-z|--disassemble-zeroes]
        [-EB|-EL|--endian={big | little }]
        [-f|--file-headers]
        [--file-start-context]
        [-g|--debugging]
        [-h|--section-headers|--headers]
        [-i|--info]
        [-j section|--section=section]
        [-l|--line-numbers]
        [-S|--source]
        [-m machine|--architecture=machine]
        [-M options|--disassembler-options=options]
        [-p|--private-headers]
        [-r|--reloc]
        [-R|--dynamic-reloc]
        [-s|--full-contents]
        [-G|--stabs]
        [-t|--syms]
        [-T|--dynamic-syms]
        [-x|--all-headers]
        [-w|--wide]
        [--start-address=address]
        [--stop-address=address]
        [--prefix-addresses]
        [--[no-]show-raw-insn]
        [--adjust-vma=offset]
        [-V|--version]
        [-H|--help]
```

#### Radara2
Radare is an open source reversing framework. It comes with a ton of options, functionality, and a somewhat daunting learning curve. I primarily use it for CTF challenges, and I love that I can run it on a terminal along side GDB without requiring a GUI.
A full set of commands [here](https://github.com/radare/radare2/blob/master/doc/intro.md).
- ```
git clone github.com/radare/radare2.git
./sys/install.sh
```
Usage:
- ```
r2 -d *fileName*
   aaa - automaticaly analyze all
   afl - print all functions
   s main - change location
   pdf - print disassembly current fucntion
   VV - visual mode
      - shift-tab           | change main tab
      - shift-r             | change theme
      - shift-s             | step over function
      - p change visual     |
      - ? help              |
      - arrows move around  |
      - :                   | input commands eg: dc

```
Basic workflow:
```
r2 -d *fileName*
  - aaa
  - s main
  - pdf
  - :
  - db <break point>
  - dc 
  - shift-s
```

   </br>   
      
 ### Reference:
  -  [GDB Commands Reference](http://visualgdb.com/gdbreference/commands/)
      
